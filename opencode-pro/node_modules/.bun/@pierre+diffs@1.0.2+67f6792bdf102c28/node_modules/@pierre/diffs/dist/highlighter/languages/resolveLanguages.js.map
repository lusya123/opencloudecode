{"version":3,"file":"resolveLanguages.js","names":["resolvedLanguages: ResolvedLanguage[]","languagesToResolve: Promise<ResolvedLanguage | undefined>[]"],"sources":["../../../src/highlighter/languages/resolveLanguages.ts"],"sourcesContent":["import type { SupportedLanguages } from '../../types';\nimport type { ResolvedLanguage } from '../../worker';\nimport { getResolvedOrResolveLanguage } from './getResolvedOrResolveLanguage';\nimport { resolveLanguage } from './resolveLanguage';\n\nexport async function resolveLanguages(\n  languages: SupportedLanguages[]\n): Promise<ResolvedLanguage[]> {\n  const resolvedLanguages: ResolvedLanguage[] = [];\n  const languagesToResolve: Promise<ResolvedLanguage | undefined>[] = [];\n  for (const language of languages) {\n    if (language === 'text') continue;\n    const maybeResolvedLanguage =\n      getResolvedOrResolveLanguage(language) ?? resolveLanguage(language);\n    if ('then' in maybeResolvedLanguage) {\n      languagesToResolve.push(maybeResolvedLanguage);\n    } else {\n      resolvedLanguages.push(maybeResolvedLanguage);\n    }\n  }\n  if (languagesToResolve.length > 0) {\n    await Promise.all(languagesToResolve).then((_resolvedLanguages) => {\n      for (const resolvedLanguage of _resolvedLanguages) {\n        if (resolvedLanguage == null) {\n          throw new Error('resolvedLanguages: unable to resolve language');\n        }\n        resolvedLanguages.push(resolvedLanguage);\n      }\n    });\n  }\n\n  return resolvedLanguages;\n}\n"],"mappings":";;;;AAKA,eAAsB,iBACpB,WAC6B;CAC7B,MAAMA,oBAAwC,EAAE;CAChD,MAAMC,qBAA8D,EAAE;AACtE,MAAK,MAAM,YAAY,WAAW;AAChC,MAAI,aAAa,OAAQ;EACzB,MAAM,wBACJ,6BAA6B,SAAS,IAAI,gBAAgB,SAAS;AACrE,MAAI,UAAU,sBACZ,oBAAmB,KAAK,sBAAsB;MAE9C,mBAAkB,KAAK,sBAAsB;;AAGjD,KAAI,mBAAmB,SAAS,EAC9B,OAAM,QAAQ,IAAI,mBAAmB,CAAC,MAAM,uBAAuB;AACjE,OAAK,MAAM,oBAAoB,oBAAoB;AACjD,OAAI,oBAAoB,KACtB,OAAM,IAAI,MAAM,gDAAgD;AAElE,qBAAkB,KAAK,iBAAiB;;GAE1C;AAGJ,QAAO"}