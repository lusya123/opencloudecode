{"version":3,"file":"web-components.js","names":["sheet: CSSStyleSheet | undefined","styles"],"sources":["../../src/components/web-components.ts"],"sourcesContent":["import { DIFFS_TAG_NAME } from '../constants';\nimport styles from '../style.css';\n\n// If HTMLElement is undefined it usually means we are in a server environment\n// so best to just not do anything\nif (\n  typeof HTMLElement !== 'undefined' &&\n  customElements.get(DIFFS_TAG_NAME) == null\n) {\n  let sheet: CSSStyleSheet | undefined;\n\n  class FileDiffContainer extends HTMLElement {\n    constructor() {\n      super();\n      // If shadow root is already open, we can sorta assume the\n      // CSS is already in place\n      if (this.shadowRoot != null) {\n        return;\n      }\n      const shadowRoot = this.attachShadow({ mode: 'open' });\n      if (sheet == null) {\n        sheet = new CSSStyleSheet();\n        // Declare layer order first, then wrap base styles in @layer to match SSR behavior\n        sheet.replaceSync(\n          `@layer base, theme, unsafe;\\n@layer base {\\n${styles}\\n}`\n        );\n      }\n      shadowRoot.adoptedStyleSheets = [sheet];\n    }\n    // Not sure if we need to do anything here yet...\n    // connectedCallback() {\n    //   this.dataset.diffsContainer = '';\n    // }\n  }\n\n  customElements.define(DIFFS_TAG_NAME, FileDiffContainer);\n}\n\nexport const DiffsContainerLoaded = true;\n"],"mappings":";;;;AAKA,IACE,OAAO,gBAAgB,eACvB,eAAe,IAAI,eAAe,IAAI,MACtC;CACA,IAAIA;CAEJ,MAAM,0BAA0B,YAAY;EAC1C,cAAc;AACZ,UAAO;AAGP,OAAI,KAAK,cAAc,KACrB;GAEF,MAAM,aAAa,KAAK,aAAa,EAAE,MAAM,QAAQ,CAAC;AACtD,OAAI,SAAS,MAAM;AACjB,YAAQ,IAAI,eAAe;AAE3B,UAAM,YACJ,+CAA+CC,cAAO,KACvD;;AAEH,cAAW,qBAAqB,CAAC,MAAM;;;AAQ3C,gBAAe,OAAO,gBAAgB,kBAAkB;;AAG1D,MAAa,uBAAuB"}