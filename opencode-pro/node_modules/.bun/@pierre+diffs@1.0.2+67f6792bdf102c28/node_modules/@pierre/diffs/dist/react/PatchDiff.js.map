{"version":3,"file":"PatchDiff.js","names":[],"sources":["../../src/react/PatchDiff.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo } from 'react';\n\nimport { DIFFS_TAG_NAME } from '../constants';\nimport type { FileDiffMetadata } from '../types';\nimport { getSingularPatch } from '../utils/getSingularPatch';\nimport type { DiffBasePropsReact } from './types';\nimport { renderDiffChildren } from './utils/renderDiffChildren';\nimport { templateRender } from './utils/templateRender';\nimport { useFileDiffInstance } from './utils/useFileDiffInstance';\n\nexport interface PatchDiffProps<LAnnotation>\n  extends DiffBasePropsReact<LAnnotation> {\n  patch: string;\n}\n\nexport function PatchDiff<LAnnotation = undefined>({\n  patch,\n  options,\n  lineAnnotations,\n  selectedLines,\n  className,\n  style,\n  prerenderedHTML,\n  renderAnnotation,\n  renderHeaderMetadata,\n  renderHoverUtility,\n}: PatchDiffProps<LAnnotation>): React.JSX.Element {\n  const fileDiff = usePatch(patch);\n  const { ref, getHoveredLine } = useFileDiffInstance({\n    fileDiff,\n    options,\n    lineAnnotations,\n    selectedLines,\n    prerenderedHTML,\n  });\n  const children = renderDiffChildren({\n    fileDiff,\n    renderHeaderMetadata,\n    renderAnnotation,\n    lineAnnotations,\n    renderHoverUtility,\n    getHoveredLine,\n  });\n  return (\n    <DIFFS_TAG_NAME ref={ref} className={className} style={style}>\n      {templateRender(children, prerenderedHTML)}\n    </DIFFS_TAG_NAME>\n  );\n}\n\nfunction usePatch(patch: string): FileDiffMetadata {\n  return useMemo<FileDiffMetadata>(() => getSingularPatch(patch), [patch]);\n}\n"],"mappings":";;;;;;;;;;;;AAiBA,SAAgB,UAAmC,EACjD,OACA,SACA,iBACA,eACA,WACA,OACA,iBACA,kBACA,sBACA,sBACiD;CACjD,MAAM,WAAW,SAAS,MAAM;CAChC,MAAM,EAAE,KAAK,mBAAmB,oBAAoB;EAClD;EACA;EACA;EACA;EACA;EACD,CAAC;AASF,QACE,oBAAC;EAAoB;EAAgB;EAAkB;YACpD,eAVY,mBAAmB;GAClC;GACA;GACA;GACA;GACA;GACA;GACD,CAAC,EAG4B,gBAAgB;GAC3B;;AAIrB,SAAS,SAAS,OAAiC;AACjD,QAAO,cAAgC,iBAAiB,MAAM,EAAE,CAAC,MAAM,CAAC"}