{"version":3,"file":"preloadPatchFile.js","names":["diffs: Promise<PreloadFileDiffResult<LAnnotation>>[]","patch"],"sources":["../../src/ssr/preloadPatchFile.ts"],"sourcesContent":["import type { FileDiffOptions } from '../components/FileDiff';\nimport { parsePatchFiles } from '../utils/parsePatchFiles';\nimport { type PreloadFileDiffResult, preloadFileDiff } from './preloadDiffs';\n\nexport type PreloadPatchFileOptions<LAnnotation> = {\n  patch: string;\n  options?: FileDiffOptions<LAnnotation>;\n  // We need to support annotations, but it's unclear the best way to do this\n  // right now... (i.e. what API people would want, so intentionally leaving\n  // this blank for now)\n};\n\nexport async function preloadPatchFile<LAnnotation = undefined>({\n  patch,\n  options,\n}: PreloadPatchFileOptions<LAnnotation>): Promise<\n  PreloadFileDiffResult<LAnnotation>[]\n> {\n  const diffs: Promise<PreloadFileDiffResult<LAnnotation>>[] = [];\n  const patches = parsePatchFiles(patch);\n  for (const patch of patches) {\n    for (const fileDiff of patch.files) {\n      diffs.push(preloadFileDiff<LAnnotation>({ fileDiff, options }));\n    }\n  }\n  return await Promise.all(diffs);\n}\n"],"mappings":";;;;AAYA,eAAsB,iBAA0C,EAC9D,OACA,WAGA;CACA,MAAMA,QAAuD,EAAE;CAC/D,MAAM,UAAU,gBAAgB,MAAM;AACtC,MAAK,MAAMC,WAAS,QAClB,MAAK,MAAM,YAAYA,QAAM,MAC3B,OAAM,KAAK,gBAA6B;EAAE;EAAU;EAAS,CAAC,CAAC;AAGnE,QAAO,MAAM,QAAQ,IAAI,MAAM"}