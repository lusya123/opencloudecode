{"version":3,"file":"getOrCreateWorkerPoolSingleton.js","names":["workerPoolSingletone: WorkerPoolManager | undefined"],"sources":["../../src/worker/getOrCreateWorkerPoolSingleton.ts"],"sourcesContent":["import { WorkerPoolManager } from './WorkerPoolManager';\nimport type {\n  WorkerInitializationRenderOptions,\n  WorkerPoolOptions,\n} from './types';\n\nlet workerPoolSingletone: WorkerPoolManager | undefined;\n\nexport interface SetupWorkerPoolProps {\n  poolOptions: WorkerPoolOptions;\n  highlighterOptions: WorkerInitializationRenderOptions;\n}\n\nexport function getOrCreateWorkerPoolSingleton({\n  poolOptions,\n  highlighterOptions,\n}: SetupWorkerPoolProps): WorkerPoolManager {\n  if (workerPoolSingletone == null) {\n    workerPoolSingletone = new WorkerPoolManager(\n      poolOptions,\n      highlighterOptions\n    );\n    void workerPoolSingletone.initialize();\n  }\n  return workerPoolSingletone;\n}\n\nexport function terminateWorkerPoolSingleton(): void {\n  if (workerPoolSingletone == null) {\n    return;\n  }\n  workerPoolSingletone.terminate();\n  workerPoolSingletone = undefined;\n}\n"],"mappings":";;;AAMA,IAAIA;AAOJ,SAAgB,+BAA+B,EAC7C,aACA,sBAC0C;AAC1C,KAAI,wBAAwB,MAAM;AAChC,yBAAuB,IAAI,kBACzB,aACA,mBACD;AACD,EAAK,qBAAqB,YAAY;;AAExC,QAAO;;AAGT,SAAgB,+BAAqC;AACnD,KAAI,wBAAwB,KAC1B;AAEF,sBAAqB,WAAW;AAChC,wBAAuB"}