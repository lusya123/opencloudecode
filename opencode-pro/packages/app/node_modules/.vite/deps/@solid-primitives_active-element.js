import {
  createEventListener,
  makeEventListener
} from "./chunk-WLAEE5HL.js";
import {
  createHydratableSignal
} from "./chunk-EPEP5WPS.js";
import {
  isServer
} from "./chunk-5C2DUIQJ.js";
import "./chunk-VL2SL2GY.js";
import "./chunk-G3PMV62Z.js";

// ../../node_modules/.bun/@solid-primitives+active-element@2.1.3+95b571dd5236cc92/node_modules/@solid-primitives/active-element/dist/index.js
var getActiveElement = () => document.activeElement === document.body ? null : document.activeElement;
function makeActiveElementListener(callback) {
  if (isServer) {
    return () => void 0;
  }
  const handleChange = () => callback(getActiveElement());
  const clear1 = makeEventListener(window, "blur", handleChange, true);
  const clear2 = makeEventListener(window, "focus", handleChange, true);
  return () => (clear1(), clear2());
}
function createActiveElement() {
  if (isServer) {
    return () => null;
  }
  const [active, setActive] = createHydratableSignal(null, getActiveElement);
  makeActiveElementListener(setActive);
  return active;
}
function makeFocusListener(target, callback, useCapture = true) {
  if (isServer) {
    return () => void 0;
  }
  const clear1 = makeEventListener(target, "blur", callback.bind(void 0, false), useCapture);
  const clear2 = makeEventListener(target, "focus", callback.bind(void 0, true), useCapture);
  return () => (clear1(), clear2());
}
function createFocusSignal(target) {
  if (isServer) {
    return () => false;
  }
  const [isActive, setIsActive] = createHydratableSignal(false, () => document.activeElement === target);
  createEventListener(target, "blur", () => setIsActive(false), true);
  createEventListener(target, "focus", () => setIsActive(true), true);
  return isActive;
}
var focus = (target, props) => {
  if (isServer) {
    return;
  }
  const callback = props();
  callback(document.activeElement === target);
  makeFocusListener(target, callback);
};
export {
  createActiveElement,
  createFocusSignal,
  focus,
  makeActiveElementListener,
  makeFocusListener
};
//# sourceMappingURL=@solid-primitives_active-element.js.map
