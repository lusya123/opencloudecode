{
  "version": 3,
  "sources": ["../../../../../node_modules/.bun/@solid-primitives+media@2.3.3+95b571dd5236cc92/node_modules/@solid-primitives/media/dist/index.js"],
  "sourcesContent": ["import {} from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { makeEventListener } from \"@solid-primitives/event-listener\";\nimport { entries, noop, createHydratableSignal } from \"@solid-primitives/utils\";\nimport { createHydratableStaticStore } from \"@solid-primitives/static-store\";\nimport { createHydratableSingletonRoot } from \"@solid-primitives/rootless\";\n/**\n * attaches a MediaQuery listener to window, listeneing to changes to provided query\n * @param query Media query to listen for\n * @param callback function called every time the media match changes\n * @returns function removing the listener\n * @example\n * const clear = makeMediaQueryListener(\"(max-width: 767px)\", e => {\n *    console.log(e.matches)\n * });\n * // remove listeners (will happen also on cleanup)\n * clear()\n */\nexport function makeMediaQueryListener(query, callback) {\n    if (isServer) {\n        return noop;\n    }\n    const mql = typeof query === \"string\" ? window.matchMedia(query) : query;\n    return makeEventListener(mql, \"change\", callback);\n}\n/**\n * Creates a very simple and straightforward media query monitor.\n *\n * @param query Media query to listen for\n * @param fallbackState Server fallback state *(Defaults to `false`)*\n * @returns Boolean value if media query is met or not\n *\n * @example\n * ```ts\n * const isSmall = createMediaQuery(\"(max-width: 767px)\");\n * console.log(isSmall());\n * ```\n */\nexport function createMediaQuery(query, serverFallback = false) {\n    if (isServer) {\n        return () => serverFallback;\n    }\n    const mql = window.matchMedia(query);\n    const [state, setState] = createHydratableSignal(serverFallback, () => mql.matches);\n    const update = () => setState(mql.matches);\n    makeEventListener(mql, \"change\", update);\n    return state;\n}\n/**\n * Provides a signal indicating if the user has requested dark color theme. The setting is being watched with a [Media Query](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme).\n *\n * @param serverFallback value that should be returned on the server â€” defaults to `false`\n *\n * @returns a boolean signal\n * @example\n * const prefersDark = usePrefersDark();\n * createEffect(() => {\n *    prefersDark() // => boolean\n * });\n */\nexport function createPrefersDark(serverFallback) {\n    return createMediaQuery(\"(prefers-color-scheme: dark)\", serverFallback);\n}\n/**\n * Provides a signal indicating if the user has requested dark color theme. The setting is being watched with a [Media Query](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme).\n *\n * This is a [singleton root primitive](https://github.com/solidjs-community/solid-primitives/tree/main/packages/rootless#createSingletonRoot) except if during hydration.\n *\n * @returns a boolean signal\n * @example\n * const prefersDark = usePrefersDark();\n * createEffect(() => {\n *    prefersDark() // => boolean\n * });\n */\nexport const usePrefersDark = /*#__PURE__*/ createHydratableSingletonRoot(createPrefersDark.bind(void 0, false));\nconst getEmptyMatchesFromBreakpoints = (breakpoints) => entries(breakpoints).reduce((matches, [key]) => {\n    matches[key] = false;\n    return matches;\n}, {});\n/**\n * Creates a multi-breakpoint monitor to make responsive components easily.\n *\n * @param breakpoints Map of breakpoint names and their widths\n * @param options Options to customize watch, fallback, responsive mode.\n * @returns map of currently matching breakpoints.\n *\n * @example\n * ```ts\n * const breakpoints = {\n    sm: \"640px\",\n    lg: \"1024px\",\n    xl: \"1280px\",\n  };\n * const matches = createBreakpoints(breakpoints);\n * console.log(matches.lg);\n * ```\n */\nexport function createBreakpoints(breakpoints, options = {}) {\n    const fallback = Object.defineProperty(options.fallbackState ?? getEmptyMatchesFromBreakpoints(breakpoints), \"key\", { enumerable: false, get: () => Object.keys(breakpoints).pop() });\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (isServer || !window.matchMedia)\n        return fallback;\n    const { mediaFeature = \"min-width\", watchChange = true } = options;\n    const [matches, setMatches] = createHydratableStaticStore(fallback, () => {\n        const matches = {};\n        entries(breakpoints).forEach(([token, width]) => {\n            const mql = window.matchMedia(`(${mediaFeature}: ${width})`);\n            matches[token] = mql.matches;\n            if (watchChange)\n                makeEventListener(mql, \"change\", (e) => setMatches(token, e.matches));\n        });\n        return matches;\n    });\n    return Object.defineProperty(matches, \"key\", {\n        enumerable: false,\n        get: () => Object.keys(matches).findLast(token => matches[token]),\n    });\n}\n/**\n * Creates a sorted copy of the Breakpoints Object\n * If you want to use the result of `createBreakpoints()` with string coercion:\n * ```ts\n * createBreakpoints(sortBreakpoints({ tablet: \"980px\", mobile: \"640px\" }))\n * ```\n */\nexport function sortBreakpoints(breakpoints) {\n    const sorted = entries(breakpoints);\n    sorted.sort((x, y) => parseInt(x[1], 10) - parseInt(y[1], 10));\n    return sorted.reduce((obj, [key, value]) => {\n        obj[key] = value;\n        return obj;\n    }, {});\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAkBO,SAAS,uBAAuB,OAAO,UAAU;AACpD,MAAI,UAAU;AACV,WAAO;AAAA,EACX;AACA,QAAM,MAAM,OAAO,UAAU,WAAW,OAAO,WAAW,KAAK,IAAI;AACnE,SAAO,kBAAkB,KAAK,UAAU,QAAQ;AACpD;AAcO,SAAS,iBAAiB,OAAO,iBAAiB,OAAO;AAC5D,MAAI,UAAU;AACV,WAAO,MAAM;AAAA,EACjB;AACA,QAAM,MAAM,OAAO,WAAW,KAAK;AACnC,QAAM,CAAC,OAAO,QAAQ,IAAI,uBAAuB,gBAAgB,MAAM,IAAI,OAAO;AAClF,QAAM,SAAS,MAAM,SAAS,IAAI,OAAO;AACzC,oBAAkB,KAAK,UAAU,MAAM;AACvC,SAAO;AACX;AAaO,SAAS,kBAAkB,gBAAgB;AAC9C,SAAO,iBAAiB,gCAAgC,cAAc;AAC1E;AAaO,IAAM,iBAA+B,8BAA8B,kBAAkB,KAAK,QAAQ,KAAK,CAAC;AAC/G,IAAM,iCAAiC,CAAC,gBAAgB,QAAQ,WAAW,EAAE,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM;AACpG,UAAQ,GAAG,IAAI;AACf,SAAO;AACX,GAAG,CAAC,CAAC;AAmBE,SAAS,kBAAkB,aAAa,UAAU,CAAC,GAAG;AACzD,QAAM,WAAW,OAAO,eAAe,QAAQ,iBAAiB,+BAA+B,WAAW,GAAG,OAAO,EAAE,YAAY,OAAO,KAAK,MAAM,OAAO,KAAK,WAAW,EAAE,IAAI,EAAE,CAAC;AAEpL,MAAI,YAAY,CAAC,OAAO;AACpB,WAAO;AACX,QAAM,EAAE,eAAe,aAAa,cAAc,KAAK,IAAI;AAC3D,QAAM,CAAC,SAAS,UAAU,IAAI,4BAA4B,UAAU,MAAM;AACtE,UAAMA,WAAU,CAAC;AACjB,YAAQ,WAAW,EAAE,QAAQ,CAAC,CAAC,OAAO,KAAK,MAAM;AAC7C,YAAM,MAAM,OAAO,WAAW,IAAI,YAAY,KAAK,KAAK,GAAG;AAC3D,MAAAA,SAAQ,KAAK,IAAI,IAAI;AACrB,UAAI;AACA,0BAAkB,KAAK,UAAU,CAAC,MAAM,WAAW,OAAO,EAAE,OAAO,CAAC;AAAA,IAC5E,CAAC;AACD,WAAOA;AAAA,EACX,CAAC;AACD,SAAO,OAAO,eAAe,SAAS,OAAO;AAAA,IACzC,YAAY;AAAA,IACZ,KAAK,MAAM,OAAO,KAAK,OAAO,EAAE,SAAS,WAAS,QAAQ,KAAK,CAAC;AAAA,EACpE,CAAC;AACL;AAQO,SAAS,gBAAgB,aAAa;AACzC,QAAM,SAAS,QAAQ,WAAW;AAClC,SAAO,KAAK,CAAC,GAAG,MAAM,SAAS,EAAE,CAAC,GAAG,EAAE,IAAI,SAAS,EAAE,CAAC,GAAG,EAAE,CAAC;AAC7D,SAAO,OAAO,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM;AACxC,QAAI,GAAG,IAAI;AACX,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACT;",
  "names": ["matches"]
}
