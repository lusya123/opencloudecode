{
  "version": 3,
  "sources": ["../../../../../node_modules/.bun/@solid-primitives+active-element@2.1.3+95b571dd5236cc92/node_modules/@solid-primitives/active-element/dist/index.js"],
  "sourcesContent": ["import {} from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { createHydratableSignal, } from \"@solid-primitives/utils\";\nimport { makeEventListener, createEventListener } from \"@solid-primitives/event-listener\";\nconst getActiveElement = () => document.activeElement === document.body ? null : document.activeElement;\n/**\n * Attaches event listeners to window, listening for the changes of the `document.activeElement`.\n * @see https://github.com/solidjs-community/solid-primitives/tree/main/packages/active-element#makeActiveElementListener\n * @param callback handle active element change\n * @returns function to clear event listeners\n * @example\n * const [activeElement, setActiveElement] = createSignal(null);\n * const clear = makeActiveElementListener(el => setActiveElement(el));\n * // remove listeners (happens also on cleanup)\n * clear();\n */\nexport function makeActiveElementListener(callback) {\n    if (isServer) {\n        return () => void 0;\n    }\n    const handleChange = () => callback(getActiveElement());\n    const clear1 = makeEventListener(window, \"blur\", handleChange, true);\n    const clear2 = makeEventListener(window, \"focus\", handleChange, true);\n    return () => (clear1(), clear2());\n}\n/**\n * Provides reactive signal of `document.activeElement`. Check which element is currently focused.\n *\n * @see https://github.com/solidjs-community/solid-primitives/tree/main/packages/active-element#createActiveElement\n * @example\n * const activeEl = createActiveElement()\n * activeEl() // T: Element | null\n */\nexport function createActiveElement() {\n    if (isServer) {\n        return () => null;\n    }\n    const [active, setActive] = createHydratableSignal(null, getActiveElement);\n    makeActiveElementListener(setActive);\n    return active;\n}\n/**\n * Attaches \"blur\" and \"focus\" event listeners to the element.\n * @see https://github.com/solidjs-community/solid-primitives/tree/main/packages/active-element#makeFocusListener\n * @param target element\n * @param callback handle focus change\n * @param useCapture activates capturing, which allows to listen on events at the root that don't support bubbling.\n * @returns function for clearing event listeners\n * @example\n * const [isFocused, setIsFocused] = createSignal(false)\n * const clear = makeFocusListener(focused => setIsFocused(focused));\n * // remove listeners (happens also on cleanup)\n * clear();\n */\nexport function makeFocusListener(target, callback, useCapture = true) {\n    if (isServer) {\n        return () => void 0;\n    }\n    const clear1 = makeEventListener(target, \"blur\", callback.bind(void 0, false), useCapture);\n    const clear2 = makeEventListener(target, \"focus\", callback.bind(void 0, true), useCapture);\n    return () => (clear1(), clear2());\n}\n/**\n * Provides a signal representing element's focus state.\n * @param target element or a reactive function returning one\n * @returns boolean signal representing element's focus state\n * @see https://github.com/solidjs-community/solid-primitives/tree/main/packages/active-element#createFocusSignal\n * @example\n * const isFocused = createFocusSignal(() => el)\n * isFocused() // T: boolean\n */\nexport function createFocusSignal(target) {\n    if (isServer) {\n        return () => false;\n    }\n    const [isActive, setIsActive] = createHydratableSignal(false, () => document.activeElement === target);\n    createEventListener(target, \"blur\", () => setIsActive(false), true);\n    createEventListener(target, \"focus\", () => setIsActive(true), true);\n    return isActive;\n}\n/**\n * A directive that notifies you when the element becomes active or inactive.\n *\n * @see https://github.com/solidjs-community/solid-primitives/tree/main/packages/active-element#focus\n *\n * @example\n * const [active, setActive] = createSignal(false)\n * <input use:focus={setActive} />\n */\nexport const focus = (target, props) => {\n    if (isServer) {\n        return;\n    }\n    const callback = props();\n    callback(document.activeElement === target);\n    makeFocusListener(target, callback);\n};\n"],
  "mappings": ";;;;;;;;;;;;;;AAIA,IAAM,mBAAmB,MAAM,SAAS,kBAAkB,SAAS,OAAO,OAAO,SAAS;AAYnF,SAAS,0BAA0B,UAAU;AAChD,MAAI,UAAU;AACV,WAAO,MAAM;AAAA,EACjB;AACA,QAAM,eAAe,MAAM,SAAS,iBAAiB,CAAC;AACtD,QAAM,SAAS,kBAAkB,QAAQ,QAAQ,cAAc,IAAI;AACnE,QAAM,SAAS,kBAAkB,QAAQ,SAAS,cAAc,IAAI;AACpE,SAAO,OAAO,OAAO,GAAG,OAAO;AACnC;AASO,SAAS,sBAAsB;AAClC,MAAI,UAAU;AACV,WAAO,MAAM;AAAA,EACjB;AACA,QAAM,CAAC,QAAQ,SAAS,IAAI,uBAAuB,MAAM,gBAAgB;AACzE,4BAA0B,SAAS;AACnC,SAAO;AACX;AAcO,SAAS,kBAAkB,QAAQ,UAAU,aAAa,MAAM;AACnE,MAAI,UAAU;AACV,WAAO,MAAM;AAAA,EACjB;AACA,QAAM,SAAS,kBAAkB,QAAQ,QAAQ,SAAS,KAAK,QAAQ,KAAK,GAAG,UAAU;AACzF,QAAM,SAAS,kBAAkB,QAAQ,SAAS,SAAS,KAAK,QAAQ,IAAI,GAAG,UAAU;AACzF,SAAO,OAAO,OAAO,GAAG,OAAO;AACnC;AAUO,SAAS,kBAAkB,QAAQ;AACtC,MAAI,UAAU;AACV,WAAO,MAAM;AAAA,EACjB;AACA,QAAM,CAAC,UAAU,WAAW,IAAI,uBAAuB,OAAO,MAAM,SAAS,kBAAkB,MAAM;AACrG,sBAAoB,QAAQ,QAAQ,MAAM,YAAY,KAAK,GAAG,IAAI;AAClE,sBAAoB,QAAQ,SAAS,MAAM,YAAY,IAAI,GAAG,IAAI;AAClE,SAAO;AACX;AAUO,IAAM,QAAQ,CAAC,QAAQ,UAAU;AACpC,MAAI,UAAU;AACV;AAAA,EACJ;AACA,QAAM,WAAW,MAAM;AACvB,WAAS,SAAS,kBAAkB,MAAM;AAC1C,oBAAkB,QAAQ,QAAQ;AACtC;",
  "names": []
}
